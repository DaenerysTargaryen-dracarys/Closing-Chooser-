<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mobile Shuffle Game</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    padding:15px;
    text-align:center;
    background: linear-gradient(135deg,#667eea,#764ba2);
    color:white;
}

h2{margin-top:5px;}

select,input{
    width:100%;
    padding:12px;
    margin:6px 0;
    border:none;
    border-radius:8px;
    font-size:16px;
}

button{
    width:100%;
    padding:14px;
    margin-top:10px;
    border:none;
    border-radius:30px;
    font-size:18px;
    font-weight:bold;
    background:#ffcc00;
    cursor:pointer;
}

.box-container{
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
    gap:12px;
    margin-top:20px;
}

.box{
    background:white;
    color:black;
    border-radius:15px;
    padding:10px;
    min-height:100px;
    transition:0.3s;
}

.box-header{
    font-weight:bold;
    border-bottom:1px solid #ddd;
    padding-bottom:5px;
}

.box-name{
    font-size:18px;
    margin-top:10px;
    font-weight:bold;
}

@keyframes shake{
    0%{transform:rotate(0deg);}
    25%{transform:rotate(3deg);}
    50%{transform:rotate(-3deg);}
    75%{transform:rotate(3deg);}
    100%{transform:rotate(0deg);}
}

.shake{
    animation:shake 0.3s infinite;
}

.winner{
    box-shadow:0 0 20px gold;
    transform:scale(1.05);
}
</style>
</head>

<body>

<h2>üéÆ Mobile Shuffle Game</h2>

<select id="boxCount" onchange="createFields()">
<option value="3">3 Boxes</option>
<option value="4">4 Boxes</option>
<option value="5">5 Boxes</option>
<option value="6" selected>6 Boxes</option>
<option value="7">7 Boxes</option>
<option value="8">8 Boxes</option>
</select>

<div id="headerInputs"></div>
<div id="nameInputs"></div>

<button onclick="shuffleNames()">Shuffle üé≤</button>
<button onclick="pickWinner()">Pick Winner üèÜ</button>

<div class="box-container" id="boxes"></div>

<script>

function createFields(){
    let count = boxCount.value;
    headerInputs.innerHTML="";
    nameInputs.innerHTML="";
    boxes.innerHTML="";

    for(let i=1;i<=count;i++){
        headerInputs.innerHTML+=`<input id="header${i}" placeholder="Header ${i}">`;
        nameInputs.innerHTML+=`<input id="name${i}" placeholder="Name ${i}">`;

        boxes.innerHTML+=`
        <div class="box" id="box${i}">
            <div class="box-header" id="boxHeader${i}"></div>
            <div class="box-name" id="boxName${i}"></div>
        </div>`;
    }
}

function shuffleNames(){
    let count = boxCount.value;
    let names=[];

    for(let i=1;i<=count;i++){
        let existing=document.getElementById("boxName"+i).innerText;
        let input=document.getElementById("name"+i).value;
        names.push(existing||input);

        document.getElementById("boxHeader"+i).innerText=
        document.getElementById("header"+i).value;
    }

    let allBoxes=document.querySelectorAll(".box");
    allBoxes.forEach(b=>{
        b.classList.remove("winner");
        b.classList.add("shake");
    });

    setTimeout(()=>{
        for(let i=names.length-1;i>0;i--){
            let j=Math.floor(Math.random()*(i+1));
            [names[i],names[j]]=[names[j],names[i]];
        }

        for(let i=1;i<=count;i++){
            document.getElementById("boxName"+i).innerText=names[i-1];
        }

        allBoxes.forEach(b=>b.classList.remove("shake"));
    },1500);
}

function pickWinner(){
    let count=boxCount.value;
    let random=Math.floor(Math.random()*count)+1;

    document.querySelectorAll(".box").forEach(b=>b.classList.remove("winner"));
    document.getElementById("box"+random).classList.add("winner");
}

createFields();

</script>
</body>
</html>
